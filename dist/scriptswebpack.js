(()=>{const e=document.querySelector("#city-input"),t=document.querySelector("#search"),n=document.querySelector("#city"),r=document.querySelector("#temperature span"),c=document.querySelector("#description"),o=document.querySelector("#weather-icon"),a=document.querySelector("#country"),u=document.querySelector("#humidity span"),s=document.querySelector("#wind span"),i=document.querySelector("#weather-data"),d=async e=>{const t=await(async e=>{const t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=a844eeb5c98602b46ec096912190ad6f&lang=pt_br&units=metric`,n=await fetch(t),r=await n.json();return console.log(r),r})(e);n.innerText=t.name,r.innerText=parseInt(t.main.temp),c.innerText=t.weather[0].description,o.setAttribute("src",`http://openweathermap.org/img/wn/${t.weather[0].icon}.png`),a.setAttribute("src","https://flagsapi.com/"+t.sys.country+"/flat/32.png"),u.innerText=`${t.main.humidity}%`,s.innerText=`${t.wind.speed}km/h`,i.classList.remove("hide"),document.getElementById("body");const d=t.name;fetch(`https://api.unsplash.com/photos/random?query=${d}&client_id=vlFv2yabnopOF2qAL5ZUBYyb8ztSpDZm3ts0Wdl2T9U`).then((e=>e.json())).then((e=>{const t=e.urls.regular;document.createElement("img").src=t,document.body.style.backgroundImage=`url(${t})`,document.body.style.backgroundRepeat="none"})).catch((e=>{console.log("Ocorreu um erro:",e)}))};t.addEventListener("click",(t=>{t.preventDefault();const n=e.value;d(n)})),e.addEventListener("keyup",(e=>{if("Enter"===e.code){const t=e.target.value;d(t)}}))})();